NoCatAuth installation guide
ver 1.0 -- 7/25/01 SDE

### 6 Easy Steps to Installing Your Very Own Captive Portal.

1. Make sure you have the prerequisites installed:
    
    * Linux 2.4.x with iptables. Support for other OSes is planned, 
	especially FreeBSD. Patches welcome.

    * gpgv, a PGP signature verifier. gpgv comes with the gnupg package, 
	which can be had from http://www.gnupg.org/download.html.

2. Unpack the NoCatAuth tarball. You probably already did this if you're
reading this file.

    $ tar xvfz NoCatAuth-x.xx.tar.gz

3. Read the README.

4. Edit the Makefile. The only option at present is INST_PATH, which
determines where NoCatAuth gets installed to. Default is '/usr/local/nocat'.

5. From the NoCatAuth directory, run 'make gateway'. This will install the
important pieces of the captive portal software.

6. Edit the /usr/local/nocat/nocat.conf file to suit.

    * AuthServiceURL and LogoutURL depend on your chosen auth service.
	Check with them for these values.

    * MessageVerify needs to point to wherever gpgv got installed in step 1.

    * If you changed INST_PATH to something other than /usr/local/nocat, 
	you'll want to look at PGPKeyPath, ResetCmd, DenyCmd, and PermitCmd.

### Starting the NoCatAuth captive portal.

The portal needs to know where to find (a) its perl libraries, and (b) its
nocat.conf configuration file. If you installed nocat to /usr/local/nocat,
NoCatAuth will figure out where to look. If you installed it elsewhere, you'll
need to add the following variables to the environment before running the
gateway script:

    $ export PERL5LIB=/path/to/nocat/lib
    $ export NOCAT=/path/to/nocat/nocat.conf

Starting the gateway is then as simple as:

    $ /path/to/nocat/bin/gateway &

### Running Your Own Auth Service.

NoCatAuth needs gpg from gnupg.org, and the Digest::MD5 and DBI modules from CPAN.
You'll also need to install the appropriate DBD modules for your database. You'll 
need a database to store your user accounts -- you can find table schemas in 
etc/nocat.schema. You'll need an Apache installation with SSL working. The
nocat.conf options should be fairly self-explanatory. You can find 
NoCat-specific Apache configuration in etc/authserv.conf. You'll need to make
the cgi-bin scripts accessible from somewhere.

PATCHES WELCOME!
